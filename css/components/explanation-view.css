/* ==========================================================
   Explanation View — onboarding panel, estilo museo San Ángel
   ========================================================== */

/* --- Entry link (between initial-block and explanation) --- */
.explanation-view__entry {
    text-align: center;
    padding: 1.5rem 0 0.5rem;
}

.explanation-view__link {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-family: 'Libre Baskerville', serif;
    font-size: 0.85rem;
    color: #5a3e28;
    text-decoration: none;
    padding: 10px 24px;
    background-color: rgba(235, 225, 205, 0.75);
    border: 1.5px solid rgba(160,120,70,0.40);
    border-radius: 6px 8px 7px 6px;
    box-shadow:
        inset 0  1px  3px rgba(255,245,230,0.25),
        inset 0 -1px  2px rgba(100,70,30,0.08),
        0 2px  5px rgba(0,0,0,0.08);
    transition: box-shadow 0.3s ease;
    cursor: pointer;
}

.explanation-view__link:hover {
    box-shadow:
        inset 0  1px  3px rgba(255,245,230,0.25),
        inset 0 -1px  2px rgba(100,70,30,0.08),
        0 3px  8px rgba(0,0,0,0.12);
    color: #5a3e28;
    text-decoration: none;
}

.explanation-view__link .ev-arrow {
    display: inline-block;
    width: 8px;
    height: 8px;
    border: solid #8b7355;
    border-width: 0 1.5px 1.5px 0;
    transform: rotate(45deg);
    animation: evNod 3s ease-in-out infinite;
}

@keyframes evNod {
    0%, 100% { transform: rotate(45deg) translateY(0); }
    50%      { transform: rotate(45deg) translateY(3px); }
}

/* --- Main section --- */
.explanation-view {
    position: relative;
    padding: 3.5rem 1.5rem 2.5rem;
    background-color: #F6F0E4;
    background-image:
        radial-gradient(ellipse 0.8px 0.8px at 40% 50%,
            rgba(100,70,30,0.04) 50%, transparent 50%),
        radial-gradient(ellipse 0.6px 0.7px at 60% 30%,
            rgba(80,50,20,0.03) 50%, transparent 50%);
    background-size: 4px 4px, 6px 5px;
}

/* --- Inner wrapper --- */
.explanation-view__inner {
    max-width: 1100px;
    margin: 0 auto;
}

/* --- Title --- */
.explanation-view__title {
    text-align: center;
    font-family: 'Libre Baskerville', serif;
    font-weight: 700;
    color: #243360;
    font-size: 1.5rem;
    line-height: 1.3;
    margin: 0 0 0.4rem;
}

/* --- Subtitle --- */
.explanation-view__subtitle {
    text-align: center;
    font-family: 'Cardo', serif;
    font-style: italic;
    color: #8b7355;
    font-size: 0.92rem;
    line-height: 1.4;
    margin: 0 0 0.8rem;
}

/* --- Decorative separator --- */
.explanation-view__sep {
    text-align: center;
    color: #c49a6c;
    font-size: 0.9rem;
    margin-bottom: 2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
}

.explanation-view__sep::before,
.explanation-view__sep::after {
    content: '';
    display: inline-block;
    width: 50px;
    height: 1px;
    background-color: rgba(196,154,108,0.4);
}

/* --- Grid layout (3 columns on desktop) --- */
.explanation-view__grid {
    display: grid;
    grid-template-columns: 1fr 1.4fr 0.85fr;
    gap: 2rem;
    align-items: center;
    margin-bottom: 2rem;
}

/* --- Content blocks --- */
.explanation-view__block {
    position: relative;
    padding-left: 1.6rem;
    margin-bottom: 1.6rem;
}

.explanation-view__block:last-child {
    margin-bottom: 0;
}

.explanation-view__block h3 {
    font-family: 'Libre Baskerville', serif;
    font-weight: 700;
    color: #243360;
    font-size: 1.05rem;
    margin: 0 0 0.35rem;
    line-height: 1.3;
}

.explanation-view__block p {
    font-family: 'Cardo', serif;
    color: #555;
    font-size: 0.8rem;
    line-height: 1.7;
    margin: 0;
}

/* --- Colored indicator dots --- */
.explanation-view__dot {
    position: absolute;
    left: 0;
    top: 2px;
    width: 12px;
    height: 12px;
    border-radius: 50%;
}

.explanation-view__dot--epoca {
    background-color: #DAA520;
}

.explanation-view__dot--estados {
    background-color: #C76D00;
}

.explanation-view__dot--platillos {
    background-color: #013971;
}

.explanation-view__dot--categorias {
    background: conic-gradient(
        #8b4923 0deg 72deg,
        #2B8C4E 72deg 144deg,
        #9B2226 144deg 216deg,
        #C76D00 216deg 288deg,
        #5F4842 288deg 360deg
    );
}

/* --- Right column vertical centering --- */
.explanation-view__col--right {
    display: flex;
    flex-direction: column;
    justify-content: center;
    height: 100%;
}

/* --- Preview SVG container --- */
.explanation-view__preview {
    display: flex;
    justify-content: center;
    align-items: center;
}

.explanation-view__preview svg {
    width: 100%;
    max-width: 320px;
    height: auto;
}

/* --- Bottom note (colonial plaque) --- */
.explanation-view__note {
    max-width: 480px;
    margin: 0 auto 2rem;
    padding: 12px 20px;
    text-align: center;
    background-color: rgba(235, 225, 205, 0.90);
    background-image:
        radial-gradient(ellipse 1px 1px at 35% 45%,
            rgba(100,70,30,0.05) 50%, transparent 50%),
        radial-gradient(ellipse 0.7px 0.8px at 65% 25%,
            rgba(80,50,20,0.03) 50%, transparent 50%);
    background-size: 5px 5px, 7px 6px;
    border: 1.5px solid rgba(160,120,70,0.35);
    border-radius: 5px 7px 6px 5px;
    box-shadow:
        inset 0  1px  3px rgba(255,245,230,0.25),
        inset 0 -1px  2px rgba(100,70,30,0.08),
        0 2px  6px rgba(0,0,0,0.08);
    transform: rotate(-0.3deg);
}

.explanation-view__note p {
    font-family: 'Cardo', serif;
    font-style: italic;
    color: #8b7355;
    font-size: 0.82rem;
    line-height: 1.4;
    margin: 0;
}

/* --- Navigation --- */
.explanation-view__nav {
    text-align: center;
}

/* --- Mini color swatches under Categorías --- */
.explanation-view__mini-rings {
    display: block;
    margin-top: 0.6rem;
}

/* --- Curatorial closing note --- */
.explanation-view__curatorial {
    text-align: center;
    margin: 0.5rem auto 0;
    max-width: 520px;
    padding: 0;
}

.explanation-view__curatorial p {
    font-family: 'Cardo', serif;
    font-style: italic;
    color: #a89880;
    font-size: 0.75rem;
    line-height: 1.5;
    margin: 0;
    letter-spacing: 0.01em;
}

/* --- Guide lines: hide on mobile --- */
@media (min-width: 768px) {
    .ev-guides { display: initial; }
}

/* ==========================================================
   Responsive: Mobile
   ========================================================== */
@media (max-width: 767px) {
    .explanation-view {
        padding: 2.5rem 1rem 2rem;
    }

    .explanation-view__title {
        font-size: 1.25rem;
    }

    .explanation-view__grid {
        grid-template-columns: 1fr;
        gap: 0;
    }

    .explanation-view__col--left {
        order: 1;
    }

    .explanation-view__col--right {
        order: 2;
        margin-bottom: 1.5rem;
    }

    .explanation-view__preview {
        order: 3;
        margin-bottom: 1.5rem;
    }

    .explanation-view__preview svg {
        max-width: 260px;
    }

    .explanation-view__block {
        margin-bottom: 1.2rem;
    }

    .explanation-view__note {
        margin: 0 auto 1.5rem;
    }

    .ev-guides {
        display: none;
    }
}
