/* ==========================================================
   Placa Colonial — estilo San Ángel / cuero artesanal
   ----------------------------------------------------------
   Terracota mate con textura de cuero curtido a mano,
   costura interior simulada, bordes orgánicos imperfectos,
   y profundidad sin brillo. Puro CSS, sin imágenes.
   ========================================================== */

.speech-bubble {
    position: relative;
    padding: 1.8rem 2.2rem;
    margin: var(--spacing-sm);
    min-height: 150px;
    height: auto;
    width: auto;
    max-width: 100%;
    word-wrap: break-word;
    display: flex;
    align-items: center;
    animation: bubblePulse 3s ease-in-out infinite;

    /* --- Esquinas orgánicas — ligeramente irregulares ---
       Cuatro radios distintos rompen la perfección digital    */
    border-radius: 12px 14px 13px 15px;

    /* --- Color base: terracota apagado / barro cocido mate --- */
    background-color: #8b4923;

    /* --- Textura de cuero envejecido (7 capas, solo CSS) ---
       1-2: Grano fino — poros del cuero a dos escalas
       3  : Grano grueso desplazado — irregularidad orgánica
       4-5: Manchas tonales — pigmentación desigual del curtido
       6  : Veteado diagonal — fibras del cuero
       7  : Micro-ruido — granulado final mate                   */
    background-image:
        radial-gradient(ellipse 1px 1px at 25% 35%,
            rgba(0,0,0,0.10) 50%, transparent 50%),
        radial-gradient(ellipse 1.2px 1px at 65% 70%,
            rgba(0,0,0,0.07) 50%, transparent 50%),
        radial-gradient(ellipse 1.8px 1.5px at 80% 20%,
            rgba(0,0,0,0.06) 50%, transparent 50%),
        radial-gradient(ellipse 90px 70px at 15% 25%,
            rgba(210,170,120,0.07), transparent),
        radial-gradient(ellipse 80px 100px at 85% 75%,
            rgba(50,18,0,0.09), transparent),
        repeating-linear-gradient(
            135deg,
            transparent,
            transparent 3px,
            rgba(0,0,0,0.02) 3px,
            rgba(0,0,0,0.02) 4px),
        radial-gradient(ellipse 0.8px 0.8px at 50% 50%,
            rgba(0,0,0,0.05) 50%, transparent 50%);
    background-size:
        5px 5px,
        7px 8px,
        11px 10px,
        100% 100%,
        100% 100%,
        100% 100%,
        3px 3px;

    /* --- Borde artesanal — cantera desgastada ---
       Doble borde: sólido exterior + outline interior          */
    border: 2.5px solid #c49a6c;

    /* --- Sombras mate (sin brillo) ---
       inset oscuro : hundimiento sutil en los bordes
       inset cálido : calidez mate muy tenue
       outer difusa : profundidad sin reflejo
       outer contacto: anclaje al fondo                         */
    box-shadow:
        inset 0  0  10px rgba(30,10,0,0.30),
        inset 0  1px  3px rgba(200,160,110,0.10),
        0 3px 10px rgba(0,0,0,0.15),
        0 1px  2px rgba(0,0,0,0.08);
}

/* --- Costura interior / borde repujado ---
   ::before simula una línea de costura artesanal
   con dashes que evocan puntadas de hilo en cuero.
   Borde interior con opacidad baja = desgaste natural.  */
.speech-bubble::before {
    content: '';
    position: absolute;
    inset: 6px;
    border-radius: 8px 10px 9px 11px;
    border: 1.5px dashed rgba(210,175,130,0.35);
    pointer-events: none;

    /* Línea interior de desgaste — 1px, opacidad baja */
    box-shadow: inset 0 0 0 1px rgba(60,30,10,0.12);
}

/* --- Sin cola / piquito --- */
.speech-bubble::after {
    content: none;
}

/* Animación suave de pulso */
@keyframes bubblePulse {
    0%   { transform: scale(1);    }
    50%  { transform: scale(1.015); }
    100% { transform: scale(1);    }
}

/* ==========================================================
   Contenedor del diálogo (Xolín + placa)
   ========================================================== */
.dialog-container {
    max-width: 700px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
}

.dialog-image {
    width: 250px;
    height: 250px;
    margin-right: -10px;
    z-index: 2;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
}

.dialog-image img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
    animation: bounceDog 4s ease-in-out infinite;
    filter: drop-shadow(0px 4px 6px rgba(0,0,0,0.2));
}

@keyframes bounceDog {
    0%, 100% { transform: translateY(0);   }
    40%      { transform: translateY(-5px); }
    60%      { transform: translateY(3px);  }
}

.dialog-text {
    flex: 1;
    min-height: 120px;
}

/* ==========================================================
   Tipografía — serif elegante, color hueso, lectura cómoda
   ========================================================== */
.typing-text {
    opacity: 0;
    animation: fadeIn 1s ease-in-out forwards;
    margin: 0.5rem 0;
    padding-left: 1rem;
    line-height: 1.85;
    color: #f0e6d3;
    font-family: 'Cardo', 'Libre Baskerville', 'Georgia', serif;
    font-size: 1.05rem;
    letter-spacing: 0.015em;
    /* Sombra mínima — legibilidad sin efecto digital */
    text-shadow: 0 1px 1px rgba(0,0,0,0.15);
}

@keyframes fadeIn {
    from { opacity: 0; }
    to   { opacity: 1; }
}
